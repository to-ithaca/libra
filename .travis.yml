language: scala
scala:
- 2.11.8
- 2.12.1
jdk:
- oraclejdk8
branches:
  only:
  - master
before_install:
- openssl aes-256-cbc -k "$ENCRYPTION_PASSWORD" -in secrets.tar.enc -out secrets.tar
  -d
- tar xvf secrets.tar
- export PATH=${PATH}:./vendor/bundle
install:
- rvm use 2.2.3 --install --fuzzy
- gem update --system
- gem install sass
- gem install jekyll -v 3.2.1
before_script:
- if [ $TRAVIS_PULL_REQUEST = 'false' ]; then git checkout -qf $TRAVIS_BRANCH; fi
script:
- |
  if [ $TRAVIS_PULL_REQUEST = 'false' ]; then
    sbt ++$TRAVIS_SCALA_VERSION clean compile coverage test makeMicrosite coverageReport publishSigned
  else
    sbt ++$TRAVIS_SCALA_VERSION clean compile coverage test makeMicrosite coverageReport
  fi
- find $HOME/.sbt -name "*.lock" | xargs rm
- find $HOME/.ivy2 -name "ivydata-*.properties" | xargs rm
after_success:
- bash <(curl -s https://codecov.io/bash)
- find $HOME/.sbt -name "*.lock" | xargs rm
- find $HOME/.ivy2 -name "ivydata-*.properties" | xargs rm
cache:
  directories:
  - "$HOME/.ivy2/cache"
  - "$HOME/.sbt/boot/scala-$TRAVIS_SCALA_VERSION"
env:
  global:
    secure: RML2z4udWzNCcuyZYehPvuYJj3wZaXsQXypH1/B0fOdhMhpMDyLReE8WaH4tAGUttJCpUnVoFAnq1IiDQbsuAAn+Ocs7n+mOmL2ez2Jq9X+Tb6lEGo/8R/oYh7byOrWU62BYesazhjwPp4lkGA6tEpc/ks3jK2Y8BAguL3AJ+JkOo9YILwAFy/QhbJqmT9n1WF8l2ZHMKQy8RyVw8sz64PdK+OoEEGnTHTCbzpvQX7VVmKJXunZxv+TCdtixFE83CKRsc0w8LQZlptYqJT8LcW3Kpd1r22buxkl2OxcddJV6o3g9eXDzPs6vjq0b2e/lqoIU4yZEfPsMzJX3QfcikJLQGZ3yQGzqoffPOJp1kIMy9Tr4h0VQORKdbHeeyIrbxaXLYKClwyBLfnwZCcf2oMc4l/+c2frSkUTXj+8A4BewLbCh4tuna+nUbrB7vfroSuFiLwYHdX8U4kGnzbyAHRZt2ns32EwS05wZgmZJrT/QfbsOyPjA2maZjUJxrqq9vgMr4LQAVd1ArCwqUEwlCq9HiFTOwKuhd9T6UrhXgsRQCM6USzYYrwoP0UxCyJj211XhbeZmF01Yte0i3SM6MfAbXefFgib6L+28gnx3ImCOAhiPgh5UiI74t5pB7+Ha9+2R8CMbUAwjXzEA22rVzMegjX4GxDyqkDinlDUYBF4=
to-ithaca/libra:
  secure: a0DbRNU5M9xy3KmTsHjeQv0B75dK1nEJbK/M3JOL4SVeVu8BqHdEaWNpU8BknyBTI9kqllkwioCTAiwU3kNR20xhDBt2Za/RMUessFJrqfqVxRW5S6BUOlC6lGUT2KahrPBOzs/kltvHYXRAgYoxQeQGc0hjBMWbqGOsSgOOShxm7yrzPVYLRwW/8abWMw4rPDfrWaDCR23w+LoIE4rI4Owc5CF0o/ghGze3PMR7a4lJNybIYq0BDVmZAoacBweum2OWdcktVM3l07zhaEOTbfOmzi4W3y7MdSDXGpVLXN66sJ5CZEjJBwaryna90YrtR3rCJSVUEPyOYS9hWQWPfnOrsaQPoGUZNIMIuP59e5Z9tHPcAdbJPrhYdxDxoOjhOlHL63IiTdRLrSpxxP/rCpohGGJZsrT5Kl8PYByBePpaVZnQUIswBiIEUYPHQb6zQa/9FybeSjKhFBlU/SdWX9jR9b7ULbQ4icDLIAGbT0ny/rIztvleKD/xQPWTtJD3yuwgy+PLRSbcZrh3rrU0Tx7O5kT6gYjaEBp07IJI5XhWGyR7PiNiALSx5Os/VhhVP88554zP+AvpxSEwTsbQIQJfN8Or2i9cLXabtqRPTuYvXE84roZy8TeE1WSI/Ou54RewsAeBeigqidydCFi8h89oiTpDd+MpKx5mJ3vQ+VI=
